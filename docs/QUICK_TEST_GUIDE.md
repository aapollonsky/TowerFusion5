# Quick Test Guide - Corn Theft System

## 1-Minute Verification

### Step 1: Check Scene Setup
```
□ Hierarchy has: GameManager → CornStorage
□ CornStorage Position: NOT (0, 0, 0) unless that's your map
```

### Step 2: Press Play ▶️
```
□ Console shows: "[CornStorage] Created auto-generated corn pile visual"
□ Hierarchy shows: CornStorage → CornPile_AutoGenerated (child)
```

### Step 3: Look in Scene View
```
□ Yellow cylinder visible at CornStorage position
□ Yellow wire sphere showing grab radius
```

### Step 4: Start Wave
```
□ Console shows: "Spawned X as Stealer"
□ Console shows: "Spawned X as Attacker"
□ Some enemies move toward corn storage
□ Some enemies attack towers
```

### Step 5: Watch Enemies
```
□ Stealer reaches corn storage
□ Console: "[CornStorage] Corn taken. Remaining: 19"
□ Yellow sphere appears on stealer (carrying corn)
□ Stealer runs back toward spawn
```

✅ **If you see all of this, the system is working perfectly!**

---

## Common Observations

### "Only 1 or 2 enemies go to corn"
✓ **This is correct!** With 15% stealers:
- 10 enemies = ~1-2 stealers
- 20 enemies = ~3 stealers
- 50 enemies = ~7-8 stealers

### "Corn pile is small"
✓ **This is intentional!** Default is moderate size:
- Width: 1.5 units
- Height: 1.0 units
- Adjust in CornStorage.cs if desired

### "Can't see pile in Game view"
- Check camera is looking at that area
- Try Scene view first to confirm it exists
- Move camera or CornStorage position

---

## Quick Fixes

### Make Corn Pile Bigger
1. Press Play
2. Hierarchy → CornStorage → CornPile_AutoGenerated
3. Inspector → Scale: Increase values
4. Note: This resets when you stop playing
5. To make permanent: Edit CornStorage.cs line ~55

### Make Corn Pile Different Color
1. Stop Play mode
2. Select CornStorage in Hierarchy
3. Inspector → Corn Storage → Visual Color
4. Change from yellow to your preference

### Make Corn Storage Easier to See
1. Select CornStorage
2. Inspector → Transform → Position
3. Set Y to 1 or 2 (lift off ground)
4. Makes it more visible

---

## Expected Behavior Summary

**Wave Start:**
- 85% of enemies → Attack towers
- 15% of enemies → Go to corn storage

**At Corn Storage:**
- Stealer waits ~1 second (grabbing animation time)
- Corn count decreases: 20 → 19 → 18...
- Yellow sphere appears on stealer
- Corn pile shrinks slightly

**Stealer Returns:**
- Runs back to spawn point
- Slightly slower (0.8x speed)
- If killed: Corn returns to storage automatically
- If reaches spawn: CORN LOST! (Game continues)

**Game Over Conditions:**
- Win: All waves complete AND corn remaining > 0
- Lose (Option 1): Health reaches 0 (traditional)
- Lose (Option 2): All corn stolen (if enabled)

---

## Console Log Reference

### Good Logs (System Working):
```
[CornStorage] Created auto-generated corn pile visual
Spawned EnemyBasic(Clone) as Stealer (roll: 0.12, threshold: 0.15)
Spawned EnemyBasic(Clone) as Attacker (roll: 0.87, threshold: 0.15)
EnemyBasic(Clone) assigned as STEALER - heading to corn storage
[CornStorage] Corn taken by EnemyBasic(Clone). Remaining: 19
[CornManager] Corn grabbed by stealer. Remaining: 19
[CornManager] Corn successfully stolen by EnemyBasic(Clone)! Remaining: 18
```

### Bad Logs (System Issues):
```
❌ No "[CornStorage] Created..." log
   → CornStorage not in scene or script error

❌ All enemies "as Attacker"
   → WaveManager "Enable Corn Theft" unchecked
   → Or CornManager not in scene

❌ "NullReferenceException: CornManager.Instance"
   → CornManager GameObject missing from scene

❌ No "Spawned X as..." logs at all
   → WaveManager not calling SpawnEnemy
   → Check wave configuration
```

---

## Performance Check

During a wave with 20 enemies:

**Expected:**
- ~17 attackers (heading to towers)
- ~3 stealers (heading to corn)
- FPS: Stable (no major drops)

**If FPS drops:**
- Not caused by corn system (very lightweight)
- Check tower/enemy count
- Check other game systems

---

## Testing Different Scenarios

### Test 1: High Stealer Percentage
```
WaveManager → Stealer Percentage: 0.5
Expected: Half enemies steal corn
Good for: Seeing mechanic clearly
```

### Test 2: Low Corn Count
```
CornStorage → Initial Corn Count: 5
Expected: Corn depletes quickly
Good for: Testing loss condition
```

### Test 3: Large Grab Radius
```
CornStorage → Grab Radius: 3.0
Expected: Easier for enemies to grab
Good for: Making stealer behavior obvious
```

### Test 4: Force All Stealers
```
WaveManager.cs line ~180:
EnemyRole assignedRole = EnemyRole.Stealer; // Force all
Expected: ALL enemies go to corn
Good for: Verifying stealer AI works
```

---

## What to Show in Screenshots/Videos

If sharing progress:

1. **Hierarchy** showing CornManager + CornStorage
2. **Scene view** showing yellow corn pile
3. **Inspector** showing WaveManager settings (Enable Corn Theft ✓)
4. **Game view** during wave with enemies moving to corn
5. **Console** showing "Spawned X as Stealer" logs

---

## Quick Troubleshooting Flowchart

```
Can't see corn pile?
├─ In Scene View?
│  ├─ Yes → Camera issue (adjust Game camera)
│  └─ No → Is CornStorage in Hierarchy?
│     ├─ Yes → Check Console for creation log
│     └─ No → Add CornStorage to scene
│
Enemies not stealing?
├─ Console shows "as Stealer"?
│  ├─ Yes → They ARE stealing, just low %
│  │         (increase Stealer Percentage to test)
│  └─ No → WaveManager "Enable Corn Theft" checked?
│     ├─ Yes → CornManager in scene?
│     │  ├─ Yes → Check Console for errors
│     │  └─ No → Add CornManager to scene
│     └─ No → Check the box!
│
Game not ending?
└─ Check GameManager settings:
   - "Use Corn For Loss Condition" if want corn-based loss
   - Or traditional health = 0 loss
```

---

## Success Indicators ✅

You know everything is working when:

1. ✅ Yellow corn pile visible in Scene/Game view
2. ✅ Console shows 15% "as Stealer", 85% "as Attacker"
3. ✅ Stealers move to corn storage (not towers)
4. ✅ Attackers move to towers (not corn)
5. ✅ Yellow sphere on stealers after grabbing corn
6. ✅ Corn count decreases: 20 → 19 → 18...
7. ✅ Pile visually shrinks as corn stolen
8. ✅ Game continues/ends based on corn remaining

If you see all 8 indicators, the system is fully operational! 🎉

---

## Next: Balancing

Once basic system works, tune these values:

- **Stealer Percentage** (15% default)
  - Lower = Harder for enemies
  - Higher = More corn theft pressure

- **Initial Corn Count** (20 default)
  - Lower = Shorter games
  - Higher = Longer defensive periods

- **Grab Radius** (1.5 default)
  - Smaller = Harder to grab
  - Larger = Easier stealer success

- **Corn Grab Duration** (1.0s default)
  - Shorter = Quick grabs
  - Longer = More vulnerable stealers

Find your sweet spot for difficulty! 🎮
