# Corn Storage Visual Setup

## Auto-Generated Visual

The `CornStorage` component now automatically creates a visual representation if you don't provide one.

### What You'll See

**Default Auto-Generated Visual:**
- **Shape:** Cylinder (representing a pile of corn)
- **Color:** Golden yellow (RGB: 255, 204, 0)
- **Size:** 1.5 units wide, 1 unit tall
- **Behavior:** Scales down as corn is stolen

### How It Works

When you add `CornStorage` to a GameObject:

1. **On Start()**, the script checks if you've assigned a visual
2. **If no visual assigned**, it automatically creates a golden cylinder
3. **The cylinder scales** based on remaining corn (20 corn = full size, 1 corn = 30% size)
4. **No collider** - won't interfere with gameplay physics

### Scene Appearance

```
Unity Scene View:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚         ğŸŸ¡                  â”‚  â† Yellow cylinder
â”‚        â•±  â•²                 â”‚     (corn pile)
â”‚       â”‚    â”‚                â”‚
â”‚       â””â”€â”€â”€â”€â”˜                â”‚
â”‚    Corn Storage             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

With enemies approaching:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ‘¾ â†                      â”‚
â”‚                             â”‚
â”‚         ğŸŸ¡    â† ğŸ‘¾          â”‚  â† Enemies moving
â”‚        â•±  â•²                 â”‚     toward corn
â”‚       â”‚    â”‚                â”‚
â”‚       â””â”€â”€â”€â”€â”˜                â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Game View

In Game view during play, you should see:
- Golden cylinder on your map
- Cylinder shrinks as enemies steal corn
- Yellow sphere on enemies carrying corn

### Customizing the Visual

#### Option 1: Keep Auto-Generated (Easiest)
Just leave the fields empty in Inspector. The golden cylinder will appear automatically.

#### Option 2: Adjust Color
1. Select CornStorage in Hierarchy
2. Inspector â†’ Corn Storage (Script)
3. Visual Feedback section
4. Change "Visual Color" (default: yellow/gold)

#### Option 3: Use Custom Prefab (Advanced)
1. Create your own corn pile prefab (3D model, sprites, etc.)
2. Assign to "Corn Pile Prefab" field in Inspector
3. Auto-generation will be skipped

#### Option 4: Use Child Object (Advanced)
1. Create child GameObject under CornStorage
2. Add visual components (sprites, models, etc.)
3. Assign to "Corn Visual Parent" field
4. Auto-generation will be skipped

---

## Visual States

The corn pile visual changes based on game state:

### Full Storage (20/20 corn)
```
Size: 100% (1.5 x 1.0 x 1.5)
Color: Bright yellow
```

### Half Storage (10/20 corn)
```
Size: 50% (0.75 x 0.5 x 0.75)
Color: Bright yellow
```

### Low Storage (3/20 corn)
```
Size: 30% minimum (0.45 x 0.3 x 0.45)
Color: Bright yellow
```

### Empty (0/20 corn)
```
Size: 30% minimum (still visible)
Color: Bright yellow
Note: Visual stays visible even when empty
```

---

## Positioning Guide

### Where to Place CornStorage

**Good Positions:**
- âœ… Far end of path (opposite spawn)
- âœ… Behind all towers
- âœ… Corner of map
- âœ… Anywhere enemies should "reach"

**Bad Positions:**
- âŒ At origin (0, 0, 0) if not on your map
- âŒ Too close to spawn (too easy to steal)
- âŒ Overlapping with towers
- âŒ Outside walkable area

**Example Positions for Different Layouts:**

```
Horizontal Path:
Enemy Spawn (0,0) â”€â”€â–º Towers â”€â”€â–º Storage (20,0)

Vertical Path:
Enemy Spawn (0,0)
      â†“
   Towers
      â†“
Storage (0,-15)

L-Shaped Path:
Enemy Spawn (0,0) â”€â”€â–º 
                      â”‚
                   Towers
                      â”‚
                      â†“
                  Storage (15,-10)
```

---

## Troubleshooting Visuals

### "I still don't see the corn pile"

**Check 1: Is CornStorage positioned on your map?**
1. Select CornStorage in Hierarchy
2. Inspector â†’ Transform â†’ Position
3. Make sure it's where your camera can see
4. Try setting to (10, 0, 0) or similar

**Check 2: Is the visual being created?**
1. Press Play
2. Check Console for: `[CornStorage] Created auto-generated corn pile visual`
3. Expand CornStorage in Hierarchy
4. Should see child: "CornPile_AutoGenerated"

**Check 3: Is it visible in Scene view?**
1. Scene view (not Game view)
2. Double-click CornStorage in Hierarchy to focus
3. Should see yellow cylinder

**Check 4: Camera position**
- Game view shows what your camera sees
- Scene view shows everything
- Make sure camera is pointed at corn storage area

### "I see it in Scene view but not Game view"

**Cause:** Camera not pointed at that area

**Fix:**
1. Select Main Camera
2. Adjust position/rotation to see corn storage
3. Or: Move CornStorage into camera view

### "Visual is too big/small"

**Adjust in Script:**
Change line in `CreateVisualIfNeeded()`:
```csharp
// Current: 1.5 wide, 1.0 tall
autoCreatedVisual.transform.localScale = new Vector3(1.5f, 1f, 1.5f);

// Smaller pile:
autoCreatedVisual.transform.localScale = new Vector3(1f, 0.5f, 1f);

// Larger pile:
autoCreatedVisual.transform.localScale = new Vector3(2f, 1.5f, 2f);
```

### "Wrong color showing"

**Change Color:**
1. Select CornStorage in Hierarchy
2. Inspector â†’ Visual Color
3. Pick your preferred color

---

## Advanced: Custom Corn Pile

If you want a more detailed visual:

### Using Sprites (2D)
1. Import corn sprite
2. Create prefab with SpriteRenderer
3. Assign to Corn Pile Prefab field

### Using 3D Models
1. Import corn 3D model (FBX, OBJ, etc.)
2. Create prefab
3. Assign to Corn Pile Prefab field

### Using Particle Effects
1. Create particle system (corn kernels floating)
2. Attach as child to CornStorage
3. Assign to Corn Visual Parent field

### Multiple Corn Objects
Instead of one pile, you could:
1. Create prefab of single corn
2. Instantiate multiple (1 per corn count)
3. Arrange in grid pattern
4. Modify `UpdateVisuals()` to add/remove objects

---

## Performance Notes

**Auto-Generated Visual:**
- âœ… Very lightweight (1 cylinder primitive)
- âœ… No texture loading
- âœ… Minimal draw calls
- âœ… Good for prototyping

**Custom Prefabs:**
- Consider LOD for detailed models
- Keep texture sizes reasonable
- Use object pooling for multiple corn objects

---

## Example Setup (Screenshot Checklist)

After adding CornStorage, verify:

```
Hierarchy:
â””â”€ GameManager
   â”œâ”€ CornManager
   â””â”€ CornStorage
      â””â”€ CornPile_AutoGenerated  â† Should see this in Play mode

Inspector (CornStorage):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Transform                           â”‚
â”‚ Position: (10, 0, 0)  â† Your map   â”‚
â”‚                                     â”‚
â”‚ Corn Storage (Script)               â”‚
â”‚   Corn Configuration                â”‚
â”‚     Initial Corn Count: 20          â”‚
â”‚     Grab Radius: 1.5                â”‚
â”‚   Visual Feedback                   â”‚
â”‚     Corn Pile Prefab: None (empty)  â”‚
â”‚     Corn Visual Parent: None        â”‚
â”‚     Visual Color: â–ˆ (yellow)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Scene View:
- Yellow wire sphere (grab radius gizmo)
- Yellow cylinder (corn pile)
- Label showing "Corn Storage 20/20"
```

---

## Next Steps

1. **Press Play** to see auto-generated visual
2. **Start a wave** and watch enemies go to corn
3. **Observe** the pile shrink as corn is stolen
4. **Customize** color/size if desired
5. **Replace** with custom art when ready

The system is fully functional with the auto-generated visual - perfect for prototyping and testing!
